{% extends "content.html" %}
{%block container_class %}container{% endblock %}

{%block menu%}{% include "single/menu.html" %}{% endblock %}

{%block head%}Score your tastes{% endblock %}

{%block title%}<h3 class="display-8 fw-bold text-center"><span class="bi-star-half">&ensp;Scoring your tastes</h1>{% endblock %}

{%block content%}
{% if item %}
<div class="mx-auto likes">
    <script>
        var context = {}

        function onCardLoad(img) {
            if (img.naturalWidth < 14 && img.naturalHeight < 14) {
                img.src='{{ NO_IMAGE_ITEM_URL }}'
            }
        }
    </script>
    <div class="card-like">
        <div class="img-wrapper">
            <img
            src="{{ item.image }}"
            alt="{{ item.name }}" 
            class="d-block  w-100 round-image"
            onload="onCardLoad(this);"
            >
        </div>
        <div class="card-body">
            <form method="post" action="{% url 'likes' %}">
                {% csrf_token %}
                <input  type="hidden" name="item_id" value="{{ item.id }}">
                <hr style="height:1px; width:99%; border-width:0; margin-top: 0px; margin-bottom: 10px; color:#ced4da; background-color:red">
                <div class="d-flex">
                    <div class="p1 btn-group align-content-xl-start">
                        {% for score_level  in score_levels %}
                            <input type="radio" class="btn-check" name="rating" id="rating_{{score_level}}" value="{{score_level}}" autocomplete="off">
                            <label class="btn btn-primary" for="rating_{{score_level}}"><strong>{{score_level}}</strong></label>
                        {% endfor %}
                    </div>
                    <pre>      </pre>
                    <div class="btn-group align-content-xl-end">
                        <button type="submit" class="btn btn-success"><span class="bi-award">&ensp;<strong>Vote</strong></button>
                        <a class="btn btn-warning" href="{% url 'likes' %}" autofocus><span class="bi-arrow-right-square">&ensp;<strong>Next</strong></a>
                    </div>
                </div>
            </form>
            <hr style="height:1px; width:99%; border-width:0; margin-top: 11px; margin-bottom: 10px; color:#ced4da; background-color:red">
            <h6 class="card-title"><strong>{{ item.name|truncatechars:200 }}</strong></h6>
            <p class="card-text" style="overflow-wrap: anywhere;">
                {% if item.description == None or item.description == 'None' %}
                    No Description
                {% else %}
                    {{ item.description|truncatechars:500 }}
                {% endif %}
            </p>
        </div>
        <div class="card-footer">
            Popularity: <strong>{{ item.popularity|floatformat:1 }}</strong>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}


